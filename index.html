<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>JSON File Viewer (Menu Version)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #1e1e1e;
      color: #f5f5f5;
    }
    /* Menu icon */
    .menu-icon {
      font-size: 24px;
      cursor: pointer;
      padding: 10px;
      background-color: #2b2b2b;
      border-bottom: 1px solid #555;
    }
    /* Dropdown menu */
    .menu-list {
      display: none;
      background-color: #2b2b2b;
      border-bottom: 1px solid #555;
    }
    .menu-list a {
      display: block;
      padding: 10px;
      color: #f5f5f5;
      text-decoration: none;
      border-top: 1px solid #444;
    }
    .menu-list a:hover {
      background-color: #444;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 15px;
      background-color: #2b2b2b;
    }
    th, td {
      border: 1px solid #555;
      padding: 8px;
      text-align: left;
      color: #f5f5f5;
    }
    th {
      background-color: #3c3c3c;
      font-weight: bold;
      text-transform: uppercase;
    }
    tr:nth-child(even) {
      background-color: #252525;
    }
    tr:nth-child(odd) {
      background-color: #2b2b2b;
    }
    tr:hover {
      background-color: #444;
    }
    .error {
      color: red;
      font-weight: bold;
    }
    #fileName {
      margin-top: 10px;
      font-size: 1.2em;
      font-weight: bold;
    }
    #fileTimestamp {
      font-size: 0.9em;
      color: #aaa;
    }
  </style>
</head>
<body>

<!-- Menu Icon -->
<div class="menu-icon" onclick="toggleMenu()">‚ò∞ Menu</div>

<!-- Menu List -->
<div class="menu-list" id="menuList">
  <a href="https://ashimshakya.com.np/" target="_blank">üè† Home</a>
  <a href="#" onclick="loadJSON('gold_silver.json', 'Display gold and silver price of Nepal')">üßà Display gold and silver price of Nepal</a>
  <a href="#" onclick="loadJSON('bigmovies.json', 'Now Showing and Comming Soon movies in Big Cinema Hall')">üé¨ Now Showing and Comming Soon movies in Big Cinema Hall</a>
  <a href="#" onclick="loadJSON('iniCinemas.json', 'Now Showing, Next Change and Comming Soon in ini Cinema Hall')">üé¨ Now Showing, Next Change and Comming Soon in ini Cinema Hall</a>
  <a href="#" onclick="loadJSON('cdcupcomming.json', 'Comming Soon movies in CDC Cinema Hall')">üé¨ Comming Soon movies in CDC Cinema Hall</a>
  <a href="#" onclick="loadJSON('onlinekbr.json', 'Top News heading from Online khabar')">üì∞ Top News heading from Online khabar</a>
  <a href="#" onclick="loadJSON('technokbr.json', 'Top Technology news from online khabar')">üíª Top Technology news from online khabar</a>
  <a href="#" onclick="loadJSON('ytsmovies.json', 'Movie List from YTS movie website')">üé• Movie List from YTS movie website</a>
</div>

<div style="padding: 15px;">
  <div id="fileName"></div>
  <div id="fileTimestamp"></div>
  <div id="tableContainer"></div>
</div>

<script>
function toggleMenu() {
  const menu = document.getElementById('menuList');
  menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
}

function loadJSON(fileName, displayName) {
  document.getElementById('fileName').textContent = displayName.toUpperCase();
  document.getElementById('tableContainer').innerHTML = '';
  document.getElementById('fileTimestamp').textContent = '';

  fetch(fileName)
    .then(response => {
      if (!response.ok) throw new Error('File not found');
      // Capture last-modified timestamp from server headers if available
      const lastModified = response.headers.get('Last-Modified');
      if (lastModified) {
        const date = new Date(lastModified);
        document.getElementById('fileTimestamp').textContent = 
          'Last updated: ' + date.toLocaleString();
      }
      return response.json();
    })
    .then(jsonData => {
      if (!Array.isArray(jsonData)) {
        document.getElementById('tableContainer').innerHTML = 
          '<p class="error">JSON file must contain an array of objects.</p>';
        return;
      }

      const columns = [...new Set(jsonData.flatMap(obj => Object.keys(obj)))];

      let tableHTML = '<table><thead><tr>';
      columns.forEach(col => {
        tableHTML += `<th>${col}</th>`;
      });
      tableHTML += '</tr></thead><tbody>';

      jsonData.forEach(item => {
        tableHTML += '<tr>';
        columns.forEach(col => {
          tableHTML += `<td>${item[col] !== undefined ? item[col] : ''}</td>`;
        });
        tableHTML += '</tr>';
      });

      tableHTML += '</tbody></table>';
      document.getElementById('tableContainer').innerHTML = tableHTML;
    })
    .catch(err => {
      document.getElementById('tableContainer').innerHTML = 
        `<p class="error">Error: ${err.message}</p>`;
    });

  // Close the menu after selection
  toggleMenu();
}
</script>

</body>
</html>





