<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>JSON File Viewer (Dropdown)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: #1e1e1e;
      color: #f5f5f5;
    }
    h2, #fileName {
      font-weight: bold;
    }
    select {
      padding: 6px;
      font-size: 1em;
      background-color: #2b2b2b;
      color: #f5f5f5;
      border: 1px solid #555;
      margin-bottom: 10px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 15px;
      background-color: #2b2b2b;
    }
    th, td {
      border: 1px solid #555;
      padding: 8px;
      text-align: left;
      color: #f5f5f5;
    }
    th {
      background-color: #3c3c3c;
      font-weight: bold;
      text-transform: uppercase;
    }
    tr:nth-child(even) {
      background-color: #252525;
    }
    tr:nth-child(odd) {
      background-color: #2b2b2b;
    }
    tr:hover {
      background-color: #444;
    }
    .error {
      color: red;
      font-weight: bold;
    }
    #fileName {
      margin-top: 10px;
      font-size: 1.2em;
    }
  </style>
</head>
<body>

<h2>Select JSON File to Display</h2>

<!-- Dropdown list of JSON files -->
<select id="fileSelect">
  <option value="">-- Select a JSON file --</option>
  <option value="bigmovnscs.json">bigmovnscs.json</option>
  <option value="example1.json">example1.json</option>
  <option value="example2.json">example2.json</option>
</select>

<div id="fileName"></div>
<div id="tableContainer"></div>

<script>
document.getElementById('fileSelect').addEventListener('change', function() {
    const fileName = this.value;
    if (!fileName) {
        document.getElementById('fileName').textContent = '';
        document.getElementById('tableContainer').innerHTML = '';
        return;
    }

    // Remove extension & make uppercase for display
    const displayName = fileName.replace(/\.[^/.]+$/, "").toUpperCase();
    document.getElementById('fileName').textContent = `File: ${displayName}`;

    fetch(fileName)
        .then(response => {
            if (!response.ok) throw new Error('File not found');
            return response.json();
        })
        .then(jsonData => {
            if (!Array.isArray(jsonData)) {
                document.getElementById('tableContainer').innerHTML = 
                    '<p class="error">JSON file must contain an array of objects.</p>';
                return;
            }

            const columns = [...new Set(jsonData.flatMap(obj => Object.keys(obj)))];

            let tableHTML = '<table><thead><tr>';
            columns.forEach(col => {
                tableHTML += `<th>${col}</th>`;
            });
            tableHTML += '</tr></thead><tbody>';

            jsonData.forEach(item => {
                tableHTML += '<tr>';
                columns.forEach(col => {
                    tableHTML += `<td>${item[col] !== undefined ? item[col] : ''}</td>`;
                });
                tableHTML += '</tr>';
            });

            tableHTML += '</tbody></table>';
            document.getElementById('tableContainer').innerHTML = tableHTML;
        })
        .catch(err => {
            document.getElementById('tableContainer').innerHTML = 
                `<p class="error">Error: ${err.message}</p>`;
        });
});
</script>

</body>
</html>
